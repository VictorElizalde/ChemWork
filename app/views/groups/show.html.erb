<h1>Group Details</h1>

<p>
  <strong>Name:</strong>
  <%= @group.name %>
</p>

<p>
  <strong>Schedule:</strong>
  <%= @group.schedule %>
</p>

<h1>Students</h1>

<table>
  <tr>
    <th>Email</th>
  </tr>

  <% @users.each do |user| %>
    <tr>
      <td><%= user.email %></td>
    </tr>
  <% end %>
</table>

<h1>Assignments</h1>
<% if current_user.role == "Teacher" %>
  <%= link_to 'New Assignment', new_group_assignment_path(@group) %>
<% end %>

<table>
  <tr>
    <th>Name</th>
  </tr>

  <% @assignments.each do |assignment| %>
    <tr>
      <% if assignment.active == true %>
        <td><%= assignment.name %></td>
        <td><%= link_to 'Show', group_assignment_path(@group, assignment) %></td>
        <% if current_user.role == "Teacher" %>
          <td><%= link_to 'Edit', edit_group_assignment_path(@group, assignment) %></td>
          <td><%= link_to 'Disable', group_assignment_path(@group, assignment),
                method: :delete,
                data: { confirm: 'Are you sure?' } %></td>
        <% end %>
      <% end %>
    </tr>
  <% end %>
</table>

<br>

<% if current_user.role == "Teacher" %>
  <%= link_to 'Edit Group', edit_group_path(@group) %> |
<% end %>
<%= link_to 'Back', groups_path %>
